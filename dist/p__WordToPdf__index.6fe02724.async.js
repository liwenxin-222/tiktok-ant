"use strict";(self.webpackChunktiktok_ant=self.webpackChunktiktok_ant||[]).push([[731],{79716:function(O,s,a){a.r(s),a.d(s,{default:function(){return N}});var E=a(42122),d=a.n(E),D=a(27424),i=a.n(D),c=a(67294),h=a(59841),x=a(93162),g=a.n(x),A=a(43347),j=a(30381),S=a.n(j),v=a(80297),o=a(48086),Z=a(11382),C=a(80226),l={content:"content___lDHaB",text:"text___QBQIE",btnWrap:"btnWrap___ZJN9Z"},t=a(85893),P=v.Z.Dragger,T=function(){var y=(0,c.useState)(),f=i()(y,2),m=f[0],W=f[1],B=(0,c.useState)(!1),F=i()(B,2),U=F[0],p=F[1],I={name:"file",maxCount:1,action:"/api/uploadWord",onChange:function(n){var u=n.file.status;if(u==="done"){var e;console.log(n),o.ZP.success("".concat(n.file.name," \u4E0A\u4F20\u6210\u529F\uFF01")),W((e=n.file.response.data)===null||e===void 0?void 0:e.imgUrl)}else u==="error"&&o.ZP.error("".concat(n.file.name," \u4E0A\u4F20\u5931\u8D25\uFF01"))},onDrop:function(n){console.log("Dropped files",n.dataTransfer.files)},beforeUpload:function(n){var u=n.name.includes("doc")||n.name.includes("docx");return u||o.ZP.error("".concat(n.name," \u4E0D\u662F\u4E00\u4E2Aword\u6587\u4EF6")),u||v.Z.LIST_IGNORE}},Y=function(){var n=new FormData;n.append("filename",m),p(!0),(0,h.request)("/api/wordToPdf",{method:"POST",headers:{ContentType:"application/pdf"},data:n,responseType:"blob"}).then(function(u){if(u){var e=new Blob([u],{type:"application/pdf"});g().saveAs(e,"".concat(m,"-").concat(S()(new Date).format("YYYY-MM-DD"),".pdf"))}else o.ZP.error("\u8F6C\u6362\u5931\u8D25")}).finally(function(){p(!1),o.ZP.error("\u8F6C\u6362\u5931\u8D25")})};return(0,t.jsx)("div",{className:l.content,children:(0,t.jsxs)(Z.Z,{spinning:!1,children:[(0,t.jsx)("div",{children:(0,t.jsxs)(P,d()(d()({},I),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(A.Z,{})}),(0,t.jsx)("p",{className:l.text,children:"\u5355\u51FB\u6216\u62D6\u52A8\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u4E0A\u4F20"}),(0,t.jsx)("p",{className:l.text,children:"\u4E25\u7981\u4E0A\u4F20\u516C\u53F8\u8D44\u6599\u6216\u5176\u4ED6\u975E\u6CD5\u6587\u4EF6\uFF08\u76EE\u524D\u53EA\u652F\u6301\u4E0A\u6B21doc\uFF0Cdocx\u6587\u4EF6\uFF09"})]}))}),(0,t.jsx)("div",{className:l.btnWrap,children:(0,t.jsx)(C.Z,{onClick:Y,loading:U,type:"primary",children:"\u8F6C\u6362\u4E3APDF"})})]})})},N=T}}]);
